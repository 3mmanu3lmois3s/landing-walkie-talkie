<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="Content-Security-Policy"
  content="
    default-src 'self' http://localhost:* ws://localhost:*;
    script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.tailwindcss.com http://localhost:*;
    style-src  'self' 'unsafe-inline' https://cdn.tailwindcss.com;
    img-src    'self' data: https://www.transparenttextures.com http://localhost:* https://www.paypalobjects.com https://stripe.com;
    connect-src 'self' https://formsubmit.co http://localhost:* ws://localhost:*;
  "
/>
    <meta http-equiv="X-XSS-Protection" content="1; mode=block" />
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="X-Frame-Options" content="DENY" />
    <meta
      http-equiv="Strict-Transport-Security"
      content="max-age=63072000; includeSubDomains; preload"
    />
    <meta
      http-equiv="Permissions-Policy"
      content="geolocation=(), microphone=(), camera=()"
    />
    <meta name="referrer" content="strict-origin-when-cross-origin" />
    <title>Teethlion</title>
    <!--<script src="https://cdn.tailwindcss.com"></script> -->
    <link rel="stylesheet" href="styles/generated.css" />


  </head>

  <body class="bg-black text-white relative">
    <!-- Fondo de video -->
    <video
      autoplay
      muted
      loop
      playsinline
      class="fixed top-0 left-0 w-full h-full object-cover opacity-20 -z-10"
    >
      <source src="video/Futuristic_Digital_Network.mp4" type="video/mp4" />
    </video>

    <!-- HEADER + MENU -->
    <header
      class="bg-slate-900 text-white flex items-center justify-between px-4 py-3 shadow-md fixed w-full z-50"
    >
      <h1 class="text-xl font-bold" data-i18n="hero.title">Teethlion</h1>

      <div class="flex items-center gap-2">
        <!-- Botones de idioma -->
        <button
          onclick="setLang('es')"
          class="text-xs bg-yellow-400 hover:bg-yellow-300 text-black px-2 py-1 rounded"
        >
          ES
        </button>
        <button
          onclick="setLang('en')"
          class="text-xs bg-yellow-400 hover:bg-yellow-300 text-black px-2 py-1 rounded"
        >
          EN
        </button>
        <button
          onclick="setLang('de')"
          class="text-xs bg-yellow-400 hover:bg-yellow-300 text-black px-2 py-1 rounded"
        >
          DE
        </button>

        <!-- Bot√≥n Hamburguesa -->
        <button
          id="hamburger"
          aria-label="Abrir men√∫"
          class="focus:outline-none ml-2"
        >
          <svg
            class="w-8 h-8"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M4 6h16M4 12h16M4 18h16"
            />
          </svg>
        </button>
      </div>
    </header>

    <!-- Men√∫ lateral -->
    <div
      id="offcanvas"
      class="-translate-x-full fixed top-0 left-0 h-full w-64 bg-slate-800 z-50 transition-transform duration-300"
    >
      <nav class="flex flex-col space-y-4 p-4 text-white">
        <button id="close-menu" class="text-white self-end">‚úñ</button>
        <a href="#que-es" class="hover:text-yellow-400" data-i18n="nav.que_es"
          >¬øQu√© es?</a
        >
<a
  href="#descargas"
  class="bg-yellow-500 text-white font-bold py-2 px-4 rounded-md hover:bg-yellow-600 transition-colors focus:outline-none focus:ring-2 focus:ring-yellow-400"
  data-i18n="nav.descargas"
  aria-label="Descargas ‚Äî inicia tu instalaci√≥n ahora"
>
  Descargar ahora
</a>

        <a href="#roadmap" class="hover:text-yellow-400" data-i18n="nav.roadmap"
          >Roadmap</a
        >
        <a
          href="#licencias"
          class="hover:text-yellow-400"
          data-i18n="nav.licencias_menu"
          >Licencias</a
        >
        <a
          href="#licensing-calculator"
          class="hover:text-yellow-400"
          data-i18n="nav.calculadora"
          >Calculadora</a
        >
        <a
          href="#contribuye"
          class="hover:text-yellow-400"
          data-i18n="nav.contribuye"
          >Contribuye</a
        >
        <a href="#faq" class="hover:text-yellow-400" data-i18n="nav.faq">FAQ</a>
        <a
          href="#contacto"
          class="hover:text-yellow-400"
          data-i18n="nav.contacto"
          >Contacto</a
        >
        <a
          href="#manifiesto"
          class="hover:text-yellow-400"
          data-i18n="nav.manifiesto"
          >Manifiesto</a
        >
        <a
          href="#partners"
          class="hover:text-yellow-400"
          data-i18n="nav.partners"
          >Partners</a
        >
        <a
          href="#instancias"
          class="hover:text-yellow-400"
          data-i18n="nav.instancias"
          >Instancias</a
        >
        <a href="#cto" class="hover:text-yellow-400" data-i18n="nav.cto">CTO</a>
      </nav>
    </div>

    <!-- Overlay -->
    <div
      id="overlay"
      class="fixed inset-0 bg-black bg-opacity-50 hidden z-40"
    ></div>

    <!-- CONTENIDO -->

    <main class="pt-20 space-y-0">
      <!-- Agregaremos aqu√≠ las mismas secciones que ya usas, pero asegurando que cada una tenga: min-h-screen flex justify-center -->
<section
  id="hero"
  class="min-h-screen flex flex-col justify-center items-center text-center px-4 pt-[10vh] pb-[12vh] relative z-10"
>
  <div class="flex flex-col items-center justify-center flex-grow">
    <h1 class="text-4xl font-extrabold text-white mb-4">Teethlion</h1>

    <p
      class="text-lg text-yellow-300 max-w-xl mb-6"
      id="rotatingSubtitle"
      data-i18n="subtitle"
    >
      Comunicaciones descentralizadas, libres y soberanas.
    </p>
  </div>

  <!-- Footer de la secci√≥n -->
<!-- Footer de la secci√≥n -->
<div class="w-full text-center mt-auto">
  <p class="text-xs text-gray-400 px-4 pb-4">
    <span class="text-gray-400" data-i18n-html="hero.note">
      <sup>*</sup> Hasta 5 nodos en la misma LAN; en entornos educativos, hasta 30 nodos.
    </span>
  </p>
</div>

</section>








      <!-- Ejemplo de c√≥mo aplicar clases para cada seccion individualmente: -->
      <section id="que-es" class="min-h-screen flex items-center px-4">
        <div class="max-w-4xl mx-auto py-12 px-4 text-white">
          <h2 class="text-2xl font-bold mb-4" data-i18n="what_is.title">
            ¬øQu√© es Teethlion?
          </h2>
          <p class="mb-2" data-i18n="what_is.p1">
            Teethlion es una red de comunicaci√≥n local descentralizada que
            funciona sin Internet. Ideal para hogares, escuelas, instituciones y
            gobiernos.
          </p>
          <ul class="list-disc list-inside space-y-1">
            <li data-i18n="what_is.feature1">
              Comunicaci√≥n de voz en tiempo real sobre LAN, MAN, WAN y GAN.
            </li>
            <li data-i18n="what_is.feature2">
              Sin necesidad de servidores centrales.
            </li>
            <li data-i18n="what_is.feature3">
              Seguridad mediante cifrado de grado militar.
            </li>
            <li data-i18n="what_is.feature4">
              Ideal para emergencias, contingencias y soberan√≠a tecnol√≥gica.
            </li>
            <li data-i18n="what_is.feature5">
              Software libre para personas y escuelas, con licencias especiales
              para gobiernos e instituciones.
            </li>
          </ul>
        </div>
      </section>



<!-- Secci√≥n de los tipos de nodos -->
<section id="tipos-nodo" class="min-h-screen flex items-center justify-center px-4 py-12 bg-slate-900">
  <div class="max-w-6xl mx-auto text-center">
    <h2 class="text-3xl font-bold text-yellow-300 mb-8" data-i18n="nodes.title">üß¨ Tipos de Nodos en Teethlion</h2>
    <p class="text-slate-300 mb-12 max-w-3xl mx-auto" data-i18n="nodes.description">
      Teethlion est√° compuesto por una red de nodos especializados que cooperan para garantizar comunicaciones descentralizadas, seguras y eficientes. Cada nodo cumple un rol √∫nico dentro del ecosistema.
    </p>
    <div id="node-type-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-8 text-left"></div>
  </div>
</section>






      <!-- Nueva secci√≥n del simulador --><!-- Secci√≥n del simulador -->
      <section
        id="simulator"
        class="relative min-h-screen flex flex-col items-center py-12"
      >
        <div class="max-w-4xl w-full">
          <h2 class="text-2xl font-bold text-white text-center mb-6">
            Demostraci√≥n de Teethlion
          </h2>

          <!-- Aqu√≠ monta React -->
          <div
            id="simulator-root"
            class="w-full h-96 md:h-[600px] rounded-lg bg-slate-900"
          ></div>


        <!-- monta tu micro‚Äêbundle justo despu√©s de este DIV -->
        <script type="module" src="/simulator/simulator.js"></script>
      </section>

<section
  id="comparison"
  class="min-h-screen flex items-center justify-center px-4 py-12 bg-slate-900"
>
  <div class="max-w-6xl mx-auto w-full">
    <h2 class="text-2xl font-bold text-center mb-8 text-yellow-300" data-i18n="comparison.title"></h2>
    <p class="text-center text-slate-400 mb-6 max-w-3xl mx-auto" data-i18n="comparison.description"></p>

    <div class="overflow-x-auto">
      <table class="w-full text-sm text-left border-collapse">
        <thead class="bg-slate-800 text-slate-100">
          <tr>
            <th class="p-4 border border-slate-600" data-i18n="comparison.col_feature"></th>
            <th class="p-4 border border-slate-600">Teethlion</th>
            <th class="p-4 border border-slate-600">
     Servicios centralizados<br/>
     (WhatsApp, Telegram, Zoom, Teams)
   </th>
            <th class="p-4 border border-slate-600" data-i18n="comparison.col_wifi_mesh"></th>
            <th class="p-4 border border-slate-600">Walkie-Talkies</th>
          </tr>
        </thead>
        <tbody>
          <tr class="bg-slate-800 hover:bg-slate-700 transition">
            <td class="p-4 border border-slate-600 text-slate-300" data-i18n="comparison.feature_offline"></td>
            <td class="p-4 border border-slate-600 text-green-400 font-semibold">‚úÖ</td>
            <td class="p-4 border border-slate-600">‚ùå</td>
            <td class="p-4 border border-slate-600">‚úÖ</td>
            <td class="p-4 border border-slate-600">‚úÖ</td>
          </tr>
          <tr class="bg-slate-800 hover:bg-slate-700 transition">
            <td class="p-4 border border-slate-600 text-slate-300" data-i18n="comparison.feature_encryption"></td>
            <td class="p-4 border border-slate-600 text-green-400 font-semibold">‚úÖ AES-GCM + P2P</td>
            <td class="p-4 border border-slate-600">‚úÖ</td>
            <td class="p-4 border border-slate-600">‚ùå</td>
            <td class="p-4 border border-slate-600">‚ùå</td>
          </tr>
          <tr class="bg-slate-800 hover:bg-slate-700 transition">
            <td class="p-4 border border-slate-600 text-slate-300" data-i18n="comparison.feature_decentralized"></td>
            <td class="p-4 border border-slate-600 text-green-400 font-semibold">‚úÖ 100%</td>
            <td class="p-4 border border-slate-600">‚ùå</td>
            <td class="p-4 border border-slate-600">‚ö†Ô∏è</td>
            <td class="p-4 border border-slate-600">‚úÖ</td>
          </tr>
          <tr class="bg-slate-800 hover:bg-slate-700 transition">
            <td class="p-4 border border-slate-600 text-slate-300" data-i18n="comparison.feature_multiplatform"></td>
            <td class="p-4 border border-slate-600 text-green-400 font-semibold">‚úÖ Linux, Win, macOS, Android*</td>
            <td class="p-4 border border-slate-600">‚úÖ</td>
            <td class="p-4 border border-slate-600">‚ùå</td>
            <td class="p-4 border border-slate-600">‚ùå</td>
          </tr>
          <tr class="bg-slate-800 hover:bg-slate-700 transition">
            <td class="p-4 border border-slate-600 text-slate-300" data-i18n="comparison.feature_content"></td>
            <td class="p-4 border border-slate-600 text-green-400 font-semibold">‚úÖ Soportado</td>
            <td class="p-4 border border-slate-600">‚úÖ</td>
            <td class="p-4 border border-slate-600">‚ùå</td>
            <td class="p-4 border border-slate-600">‚ùå Solo voz</td>
          </tr>
          <tr class="bg-slate-800 hover:bg-slate-700 transition">
            <td class="p-4 border border-slate-600 text-slate-300" data-i18n="comparison.feature_cost"></td>
            <td class="p-4 border border-slate-600 text-green-400 font-semibold">‚úÖ Gratis uso personal/educativo</td>
            <td class="p-4 border border-slate-600">"Gratis" (pagas con tus datos)</td>
            <td class="p-4 border border-slate-600">Alto</td>
            <td class="p-4 border border-slate-600">Costo medio</td>
          </tr>
          <tr class="bg-slate-800 hover:bg-slate-700 transition">
            <td class="p-4 border border-slate-600 text-slate-300" data-i18n="comparison.feature_evolution"></td>
            <td class="p-4 border border-slate-600 text-green-400 font-semibold">‚úÖ Red viva, actualizaciones anuales</td>
            <td class="p-4 border border-slate-600">‚ùå</td>
            <td class="p-4 border border-slate-600">‚ö†Ô∏è Limitado</td>
            <td class="p-4 border border-slate-600">‚ùå</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</section>

<!-- Quickstart para instalarlo-->

<section
  id="quickstart"
  class="min-h-screen flex items-center justify-center bg-slate-900 text-white"
>
  <div class="max-w-4xl mx-auto px-4">
    <h2
      class="text-3xl font-bold text-center mb-8"
      data-i18n="quickstart.title"
    >
      Quickstart: Instala y Prueba en 4 Pasos
    </h2>

    <!-- Stepper -->
    <div class="flex justify-between mb-8">
      <div class="stepper-item text-center flex-1">
        <div class="stepper-circle bg-yellow-500 text-black">1</div>
        <p class="mt-2 text-sm" data-i18n="quickstart.step1">Descarga</p>
      </div>
      <div class="stepper-item text-center flex-1">
        <div class="stepper-circle bg-slate-700">2</div>
        <p class="mt-2 text-sm" data-i18n="quickstart.step2">Instala</p>
      </div>
      <div class="stepper-item text-center flex-1">
        <div class="stepper-circle bg-slate-700">3</div>
        <p class="mt-2 text-sm" data-i18n="quickstart.step3">Ejecuta</p>
      </div>
      <div class="stepper-item text-center flex-1">
        <div class="stepper-circle bg-slate-700">4</div>
        <p class="mt-2 text-sm" data-i18n="quickstart.step4">Llama</p>
      </div>
    </div>

    <!-- Navigation Buttons -->
    <div class="flex justify-between">
      <button
        id="prev-step"
        data-i18n="quickstart.prev"
        class="px-4 py-2 rounded border border-yellow-500 hover:bg-yellow-500 hover:text-black transition-colors"
        disabled
      >
        Anterior
      </button>
      <button
        id="next-step"
        data-i18n="quickstart.next"
        class="px-4 py-2 rounded bg-yellow-500 text-black hover:bg-yellow-600 transition-colors"
      >
        Siguiente
      </button>
    </div>
  </div>
</section>

<!-- Modales de Paso -->
<div id="modals-container">
  <!-- Paso 1 -->
  <div
    class="modal step-modal hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4"
  >
    <div class="bg-slate-800 rounded-lg max-w-md w-full p-6 relative">
      <button onclick="closeModal()" class="absolute top-3 right-3 text-yellow-300 hover:text-yellow-400">
        &times;
      </button>
      <h3 class="text-xl font-bold mb-2" data-i18n="quickstart.modal1.title">
        Paso 1: Descarga
      </h3>
      <p class="mb-4" data-i18n="quickstart.modal1.desc">
        Descarga Teethlion para tu plataforma (Laptop o M√≥vil).
      </p>
      <a
        href="#descargas"
        class="inline-block bg-yellow-500 text-black font-semibold py-2 px-4 rounded hover:bg-yellow-600"
        data-i18n="quickstart.modal1.cta"
      >
        Ir a Descargas
      </a>
    </div>
  </div>

  <!-- Paso 2 -->
  <div
    class="modal step-modal hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4"
  >
    <div class="bg-slate-800 rounded-lg max-w-md w-full p-6 relative">
      <button onclick="closeModal()" class="absolute top-3 right-3 text-yellow-300 hover:text-yellow-400">
        &times;
      </button>
      <h3 class="text-xl font-bold mb-2" data-i18n="quickstart.modal2.title">
        Paso 2: Instala
      </h3>
      <p class="mb-4" data-i18n="quickstart.modal2.desc">
        Ejecuta el instalador y sigue las indicaciones en pantalla para instalar Teethlion.
      </p>
      <button
        onclick="closeModal()"
        class="mt-2 inline-block bg-yellow-500 text-black font-semibold py-2 px-4 rounded hover:bg-yellow-600"
        data-i18n="quickstart.modal2.cta"
      >
        Entendido
      </button>
    </div>
  </div>

  <!-- Paso 3 -->
  <div
    class="modal step-modal hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4"
  >
    <div class="bg-slate-800 rounded-lg max-w-md w-full p-6 relative">
      <button onclick="closeModal()" class="absolute top-3 right-3 text-yellow-300 hover:text-yellow-400">
        &times;
      </button>
      <h3 class="text-xl font-bold mb-2" data-i18n="quickstart.modal3.title">
        Paso 3: Ejecuta
      </h3>
      <p class="mb-4" data-i18n="quickstart.modal3.desc">
        Abre Teethlion y permite los permisos necesarios para iniciar la aplicaci√≥n.
      </p>
      <button
        onclick="closeModal()"
        class="mt-2 inline-block bg-yellow-500 text-black font-semibold py-2 px-4 rounded hover:bg-yellow-600"
        data-i18n="quickstart.modal3.cta"
      >
        Continuar
      </button>
    </div>
  </div>

  <!-- Paso 4 -->
  <div
    class="modal step-modal hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4"
  >
    <div class="bg-slate-800 rounded-lg max-w-md w-full p-6 relative">
      <button onclick="closeModal()" class="absolute top-3 right-3 text-yellow-300 hover:text-yellow-400">
        &times;
      </button>
      <h3 class="text-xl font-bold mb-2" data-i18n="quickstart.modal4.title">
        Paso 4: Llama
      </h3>
      <p class="mb-4" data-i18n="quickstart.modal4.desc">
        Localiza a tus amigos en la red y haz tu primera llamada descentralizada.
      </p>
      <button
        onclick="closeModal()"
        class="mt-2 inline-block bg-yellow-500 text-black font-semibold py-2 px-4 rounded hover:bg-yellow-600"
        data-i18n="quickstart.modal4.cta"
      >
        Finalizar
      </button>
    </div>
  </div>
</div>

      <section id="descargas" class="min-h-screen flex items-center px-4">
        <div class="max-w-3xl mx-auto px-4 py-8 flex flex-col justify-center">
          <h2 class="text-2xl font-bold mb-4" data-i18n="downloads.title">
            Descargas
          </h2>
          <div class="flex flex-col sm:flex-row gap-4 mb-4">
<a
  href="#"
  onclick="showDownloadTooltip(); return false;"
  class="bg-yellow-500 text-black font-semibold py-3 px-6 rounded-lg hover:bg-yellow-600 transition-colors focus:outline-none focus:ring-2 focus:ring-yellow-400"
  aria-disabled="true"
  aria-label="Descargar para Linux"
  data-i18n="downloads.linux"
>
  ‚¨áÔ∏è Descargar Linux
</a>
            <a
              href="#"
              onclick="showDownloadTooltip(); return false;"
              class="bg-slate-800 px-6 py-3 rounded-lg hover:bg-slate-700 cursor-not-allowed"
              data-i18n="downloads.windows"
              >‚¨áÔ∏è Windows</a
            >
            <a
              href="#"
              onclick="showDownloadTooltip(); return false;"
              class="bg-slate-800 px-6 py-3 rounded-lg hover:bg-slate-700 cursor-not-allowed"
              data-i18n="downloads.macos"
              >‚¨áÔ∏è macOS</a
            >
          </div>

          <p class="text-sm text-slate-400">
            <span data-i18n="downloads.enterprise_prompt">
              ¬øNecesitas funcionalidades m√≥viles, integraci√≥n SaaS y
              dispositivos embebidos? </span
            ><br />
<a
  href="#contacto"
  class="inline-block bg-transparent border-2 border-yellow-500 text-yellow-500 font-semibold py-2 px-4 rounded-md hover:bg-yellow-500 hover:text-black transition-colors focus:outline-none focus:ring-2 focus:ring-yellow-400"
  aria-label="Contactar equipo Teethlion"
  data-i18n="downloads.contact_us"
>
  Cont√°ctanos
</a>

            <span data-i18n="downloads.enterprise_version">
              para la versi√≥n empresarial.</span
            >
          </p>
        </div>
      </section>

      <section
        id="roadmap"
        class="min-h-screen flex items-center justify-center px-4 py-16"
      >
        <div class="max-w-3xl mx-auto px-4 py-12">
          <!-- contenido roadmap -->
          <h2 class="text-2xl font-bold mb-4" data-i18n="roadmap.title">
            Roadmap
          </h2>
          <div class="space-y-8">
            <div class="bg-white bg-opacity-5 p-4 rounded-lg shadow">
              <h3
                class="text-lg font-semibold mb-2 text-yellow-300"
                data-i18n="roadmap.v1.title"
              >
                ‚úÖ Versi√≥n 1.0
              </h3>
              <ul class="list-disc list-inside text-sm text-slate-200">
                <li data-i18n="roadmap.v1.item1">CLI + SPA Web</li>
                <li data-i18n="roadmap.v1.item2">
                  Audio en tiempo real en LAN
                </li>
                <li data-i18n="roadmap.v1.item3">Chat LAN</li>
                <li data-i18n="roadmap.v1.item4">Licencia AGPL</li>
              </ul>
            </div>

            <div class="bg-white bg-opacity-5 p-4 rounded-lg shadow">
              <h3
                class="text-lg font-semibold mb-2 text-yellow-300"
                data-i18n="roadmap.soon.title"
              >
                üîú Pr√≥ximamente
              </h3>
              <ul class="list-disc list-inside text-sm text-slate-200">
                <li data-i18n="roadmap.soon.item1">Video LAN</li>
                <li data-i18n="roadmap.soon.item2">
                  Transcripci√≥n experimental
                </li>
                <li data-i18n="roadmap.soon.item3">Modo visual CLI & SDK</li>
              </ul>
            </div>

            <div class="bg-white bg-opacity-5 p-4 rounded-lg shadow">
              <h3
                class="text-lg font-semibold mb-2 text-yellow-300"
                data-i18n="roadmap.private.title"
              >
                üõ°Ô∏è Privado (TOL)
              </h3>
              <p
                class="text-sm text-slate-300"
                data-i18n="roadmap.private.desc"
              >
                Versi√≥n extendida para gobiernos y empresas.
              </p>
            </div>
          </div>
        </div>
      </section>

      <section
        id="licencias"
        class="min-h-screen flex items-center justify-center px-4 py-12"
      >
        <div class="max-w-4xl mx-auto w-full">
          <h2
            class="text-2xl font-bold text-center mb-6"
            data-i18n="project_licenses.title"
          >
            üìú Licencias del Proyecto
          </h2>

          <div class="flex justify-center space-x-4 mb-4">
            <button
              onclick="showLicense('agpl')"
              id="btn-agpl"
              class="px-4 py-2 rounded bg-yellow-400 text-black font-semibold"
              data-i18n="project_licenses.agpl_button"
            >
              AGPL v3
            </button>
            <button
              onclick="showLicense('tol')"
              id="btn-tol"
              class="px-4 py-2 rounded bg-slate-700 text-white font-semibold"
              data-i18n="project_licenses.tol_button"
            >
              Teethlion Open License (TOL)
            </button>
          </div>

          <div
            id="agpl"
            class="license-panel bg-white bg-opacity-5 rounded-lg p-4 shadow h-96 overflow-y-scroll"
          >
            <h3
              class="text-lg font-bold text-yellow-300 mb-2"
              data-i18n="project_licenses.agpl_v3_title_panel"
            >
              Licencia AGPL v3
            </h3>
            <pre class="text-sm text-slate-100 whitespace-pre-wrap">
Cargando licencia AGPL v3...</pre
            >
          </div>

          <div
            id="tol"
            class="license-panel hidden bg-white bg-opacity-5 rounded-lg p-4 shadow h-96 overflow-y-scroll"
          >
            <h3
              class="text-lg font-bold text-yellow-300 mb-2"
              data-i18n="project_licenses.tol_title_panel"
            >
              Teethlion Open License (TOL)
            </h3>
            <pre class="text-sm text-slate-100 whitespace-pre-wrap">
Cargando licencia TOL...</pre
            >
          </div>
        </div>
      </section>

      <!-- Y as√≠ sucesivamente para todas las secciones... -->

<section
  id="faq"
  class="min-h-screen flex items-center justify-center px-4 py-12"
>
  <div class="max-w-4xl mx-auto w-full">
    <h2
      class="text-2xl font-bold mb-6 text-center"
      data-i18n="faq.title_header"
    >
      üß† Preguntas Frecuentes (FAQ)
    </h2>

    <div class="space-y-6 text-slate-100">
      <!-- Pregunta 1 -->
      <div class="bg-slate-800 bg-opacity-50 p-4 rounded-lg">
        <h3
          class="font-semibold text-yellow-300 flex items-center justify-between cursor-pointer"
          onclick="toggleFAQ(1)"
        >
          <span data-i18n="faq.q1_title"
            >¬øQu√© necesito para usar Teethlion?</span
          >
          <span class="text-xl">+</span>
        </h3>
        <p
          class="mt-2 hidden"
          id="faq-answer-1"
          data-i18n="faq.q1_answer"
        ></p>
      </div>

      <!-- Pregunta 2 -->
      <div class="bg-slate-800 bg-opacity-50 p-4 rounded-lg">
        <h3
          class="font-semibold text-yellow-300 flex items-center justify-between cursor-pointer"
          onclick="toggleFAQ(2)"
        >
          <span data-i18n="faq.q2_title"
            >¬øQu√© pasa si alguien viola la licencia?</span
          >
          <span class="text-xl">+</span>
        </h3>
        <p
          class="mt-2 hidden"
          id="faq-answer-2"
          data-i18n="faq.q2_answer"
        ></p>
      </div>

      <!-- Pregunta 3 -->
      <div class="bg-slate-800 bg-opacity-50 p-4 rounded-lg">
        <h3
          class="font-semibold text-yellow-300 flex items-center justify-between cursor-pointer"
          onclick="toggleFAQ(3)"
        >
          <span data-i18n="faq.q3_title"
            >¬øPor qu√© es gratis para algunos y de pago para otros?</span
          >
          <span class="text-xl">+</span>
        </h3>
        <p
          class="mt-2 hidden"
          id="faq-answer-3"
          data-i18n="faq.q3_answer"
        ></p>
      </div>

      <!-- Pregunta 4 -->
      <div class="bg-slate-800 bg-opacity-50 p-4 rounded-lg">
        <h3
          class="font-semibold text-yellow-300 flex items-center justify-between cursor-pointer"
          onclick="toggleFAQ(4)"
        >
          <span data-i18n="faq.q6_title"
            >¬øQu√© ventajas tengo si uso Teethlion sobre otros sistemas?</span
          >
          <span class="text-xl">+</span>
        </h3>
        <p
          class="mt-2 hidden"
          id="faq-answer-4"
          data-i18n="faq.q6_answer"
        ></p>
      </div>

      <!-- Pregunta 5 -->
      <div class="bg-slate-800 bg-opacity-50 p-4 rounded-lg">
        <h3
          class="font-semibold text-yellow-300 flex items-center justify-between cursor-pointer"
          onclick="toggleFAQ(5)"
        >
          <span data-i18n="faq.q7_title">¬øC√≥mo se financia Teethlion?</span>
          <span class="text-xl">+</span>
        </h3>
        <p
          class="mt-2 hidden"
          id="faq-answer-5"
          data-i18n="faq.q7_answer"
        ></p>
      </div>

      <!-- Pregunta 6 -->
      <div class="bg-slate-800 bg-opacity-50 p-4 rounded-lg">
        <h3
          class="font-semibold text-yellow-300 flex items-center justify-between cursor-pointer"
          onclick="toggleFAQ(6)"
        >
          <span data-i18n="faq.q8_title">¬øCu√°ndo estar√° listo Teethlion?</span>
          <span class="text-xl">+</span>
        </h3>
        <p
          class="mt-2 hidden"
          id="faq-answer-6"
          data-i18n="faq.q8_answer"
        ></p>
      </div>
    </div>
  </div>
</section>


      <!-- Formulario con protecci√≥n avanzada -->
      <section
        id="contacto"
        class="min-h-screen flex items-center justify-center px-4 py-12"
      >
        <div class="max-w-3xl w-full">
          <h2
            class="text-2xl font-bold mb-6 text-center"
            data-i18n="contact.title"
          >
            Contacto Seguro
          </h2>

          <form
            id="secure-contact-form"
            class="bg-slate-800 bg-opacity-50 p-6 rounded-lg shadow-lg"
          >
            <input
              type="checkbox"
              name="_honeypot"
              style="display: none"
              tabindex="-1"
              autocomplete="off"
            />
            <input type="hidden" name="_captcha" value="false" />
            <input type="hidden" name="_template" value="table" />
            <input
              type="hidden"
              name="_autoresponse"
              value="Gracias por tu mensaje"
            />

            <div class="mb-4">
              <label
                for="secure-name"
                class="block text-yellow-300 mb-2 font-medium"
                data-i18n="contact.name_label"
                >Nombre</label
              >
              <input
                type="text"
                id="secure-name"
                name="name"
                required
                pattern="[A-Za-z√Å-√ö√°-√∫\s]{2,50}"
                maxlength="50"
                class="w-full p-3 rounded bg-slate-700 border-2 border-slate-600 focus:border-yellow-400"
                data-i18n-placeholder="contact.name_placeholder"
                oninput="sanitizeInput(this, /[^A-Za-z√Å-√ö√°-√∫\s]/g)"
              />
            </div>

            <div class="mb-4">
              <label
                for="secure-email"
                class="block text-yellow-300 mb-2 font-medium"
                data-i18n="contact.email_label"
                >Email</label
              >
              <input
                type="email"
                id="secure-email"
                name="email"
                required
                class="w-full p-3 rounded bg-slate-700 border-2 border-slate-600 focus:border-yellow-400"
                data-i18n-placeholder="contact.email_placeholder"
                onblur="validateEmail(this)"
              />
            </div>

            <div class="mb-4">
              <label
                for="secure-message"
                class="block text-yellow-300 mb-2 font-medium"
                data-i18n="contact.message_label"
                >Mensaje</label
              >
              <textarea
                id="secure-message"
                name="message"
                required
                rows="6"
                maxlength="1000"
                class="w-full p-3 rounded bg-slate-700 border-2 border-slate-600 focus:border-yellow-400"
                data-i18n-placeholder="contact.message_placeholder"
                oninput="sanitizeTextarea(this)"
              ></textarea>
              <div class="flex justify-between text-sm text-slate-400 mt-1">
                <span data-i18n="contact.message_help"
                  >M√°x. 1000 caracteres</span
                >
                <span id="char-count">0/1000</span>
              </div>
            </div>

            <button
              type="submit"
              id="submit-btn"
              class="w-full bg-yellow-400 hover:bg-yellow-300 text-black font-bold py-3 px-4 rounded transition-colors"
              data-i18n="contact.send_button"
            >
              Enviar Mensaje
            </button>

            <div
              id="form-feedback"
              class="hidden mt-4 p-3 rounded text-center font-medium"
            ></div>
          </form>
        </div>
      </section>

      <section id="manifiesto" class="max-w-4xl mx-auto px-4 py-12">
        <h2
          class="text-2xl font-bold mb-6 text-center"
          data-i18n="manifesto.title_header"
        >
          üìú Teethlion Manifesto
        </h2>

        <div class="space-y-6 text-slate-100">
          <div>
            <h3
              class="text-xl font-semibold text-yellow-300"
              data-i18n="manifesto.mission.title"
            >
              üí™ Nuestra Misi√≥n
            </h3>
            <p data-i18n="manifesto.mission.p1"></p>
            <p data-i18n="manifesto.mission.p2"></p>
            <p data-i18n="manifesto.mission.p3"></p>
          </div>

          <div>
            <h3
              class="text-xl font-semibold text-yellow-300"
              data-i18n="manifesto.principles.title"
            >
              üåç Principios Fundamentales
            </h3>
            <ul class="list-disc list-inside">
              <li data-i18n="manifesto.principles.item1"></li>
              <li data-i18n="manifesto.principles.item2"></li>
              <li data-i18n="manifesto.principles.item3"></li>
              <li data-i18n="manifesto.principles.item4"></li>
            </ul>
          </div>

          <div>
            <h3
              class="text-xl font-semibold text-yellow-300"
              data-i18n="manifesto.offers.title"
            >
              ‚ú® Lo que Teethlion ofrece
            </h3>
            <ul class="list-disc list-inside">
              <li data-i18n="manifesto.offers.item1"></li>
              <li data-i18n="manifesto.offers.item2"></li>
              <li data-i18n="manifesto.offers.item3"></li>
              <li data-i18n="manifesto.offers.item4"></li>
            </ul>
          </div>

          <div>
            <h3
              class="text-xl font-semibold text-yellow-300"
              data-i18n="manifesto.license.title"
            >
              üìÖ Nuestra Licencia (TOL)
            </h3>
            <ul class="list-disc list-inside">
              <li data-i18n="manifesto.license.item1"></li>
              <li data-i18n="manifesto.license.item2"></li>
              <li data-i18n="manifesto.license.item3"></li>
            </ul>
            <p
              class="mt-2 font-semibold"
              data-i18n="manifesto.license.rates_title"
            ></p>
            <ul class="list-disc list-inside">
              <li data-i18n="manifesto.license.rate1"></li>
              <li data-i18n="manifesto.license.rate2"></li>
            </ul>
          </div>

          <div>
            <h3
              class="text-xl font-semibold text-yellow-300"
              data-i18n="manifesto.protection.title"
            >
              üîí Protecci√≥n de Teethlion
            </h3>
            <ul class="list-disc list-inside">
              <li data-i18n="manifesto.protection.item1"></li>
              <li data-i18n="manifesto.protection.item2"></li>
              <li data-i18n="manifesto.protection.item3"></li>
            </ul>
          </div>

          <div>
            <h3
              class="text-xl font-semibold text-yellow-300"
              data-i18n="manifesto.dream.title"
            >
              üöÄ Nuestro Sue√±o
            </h3>
            <p data-i18n="manifesto.dream.p1"></p>
            <p data-i18n="manifesto.dream.p2"></p>
            <p
              class="mt-4 font-semibold text-yellow-300"
              data-i18n="manifesto.dream.welcome"
            ></p>
          </div>
        </div>
      </section>

      <section
        id="partners"
        class="flex flex-col justify-center items-center text-center min-h-screen px-4 py-12 max-w-4xl mx-auto"
      >
        <h2
          class="text-2xl font-bold text-yellow-300 mb-4"
          data-i18n="partners.title"
        >
          ü§ù Partners y Apoyo Institucional
        </h2>
        <p class="text-slate-300 mb-6" data-i18n="partners.description">
          Teethlion cuenta con el inter√©s de comunidades, ONGs y entidades
          educativas que promueven la soberan√≠a tecnol√≥gica. Si representas a
          una instituci√≥n interesada en apoyar el proyecto, cont√°ctanos.
        </p>
        <a
          href="#contacto"
          class="inline-block bg-yellow-400 text-black font-semibold px-6 py-2 rounded hover:bg-yellow-300 transition"
          data-i18n="partners.cta"
        >
          üì© Quiero ser Partner
        </a>
      </section>

      <section
        id="instancias"
        class="flex items-center justify-center text-center min-h-screen px-4 py-12 bg-opacity-20"
      >
        <div>
          <h2
            class="text-2xl font-bold text-yellow-300 mb-4"
            data-i18n="instances.title"
          >
            üåê Instancias activas
          </h2>
          <p class="text-slate-100 mb-2" data-i18n="instances.description">
            Teethlion ha sido instalado en:
          </p>
          <div
            class="text-6xl font-extrabold text-yellow-400 mb-2"
            id="instance-count"
          >
            8
          </div>
          <p class="text-slate-300" data-i18n="instances.extra_info">
            nodos verificados en 5 pa√≠ses
          </p>
        </div>
      </section>

<section
  id="contribuye"
  class="h-screen flex flex-col justify-center items-center text-center px-4 py-12"
>
  <h2 class="text-3xl font-bold mb-4" data-i18n="contribute.title">
    Contribuye a Teethlion
  </h2>
  <p
    class="text-slate-300 max-w-xl mb-6"
    data-i18n="contribute.description"
  >
    S√© parte de la evoluci√≥n de las comunicaciones. Ay√∫danos a extender Teethlion desde tu comunidad o hacia nuevas fronteras.
  </p>

  <div class="flex flex-col sm:flex-row gap-4">
    <!-- Bot√≥n de Ampliar red -->
    <a
      href="#contacto"
      onclick="fillNetworkExpansionMessage()"
      class="bg-yellow-400 text-black px-6 py-3 rounded hover:bg-yellow-300 font-semibold transition"
      data-i18n="contribute.expand_button"
    >
      üåê Ampl√≠a la red
    </a>

    <!-- Bot√≥n de Sat√©lite -->
    <a
      href="#contacto"
      onclick="fillSatelliteMessage()"
      class="bg-yellow-400 text-black px-6 py-3 rounded hover:bg-yellow-300 font-semibold transition"
      data-i18n="contribute.satellite_button"
    >
      üõ∞Ô∏è Compra un sat√©lite
    </a>
  </div>
</section>

      <section
        id="licensing-calculator"
        class="min-h-screen flex items-center justify-center px-4 py-12"
      >
        <div class="max-w-4xl w-full text-center">
          <h2 class="text-2xl font-bold mb-4" data-i18n="calculator.title">
            Calculadora de Licenciamiento
          </h2>
          <p class="mb-6 text-slate-300" data-i18n="calculator.description">
            Usa esta herramienta para estimar el coste √∫nico de licencias para
            gobiernos, instituciones o empresas.
          </p>

          <div
            class="bg-slate-800 p-6 rounded-lg max-w-md mx-auto text-left space-y-4"
          >
            <!-- Tipo de entidad -->
            <div>
              <label
                class="block text-yellow-300 font-semibold mb-1"
                data-i18n="calculator.entity_type_label"
              >
                Tipo de entidad:
              </label>
              <select
                id="entity-type"
                class="w-full p-2 rounded bg-slate-700 border border-slate-600 text-white"
              >
                <option value="gov" data-i18n="calculator.entity_gov">
                  Gobierno
                </option>
                <option value="school" data-i18n="calculator.entity_school">
                  Escuela
                </option>
                <option
                  value="enterprise"
                  data-i18n="calculator.entity_enterprise"
                >
                  Empresa
                </option>
              </select>
            </div>

            <!-- N√∫mero de personas -->
            <div>
              <label
                class="block text-yellow-300 font-semibold mb-1"
                data-i18n="calculator.people_label"
              >
                N√∫mero de personas:
              </label>
              <input
                type="number"
                id="people"
                value="1000"
                min="1"
                class="w-full p-2 rounded bg-slate-700 border border-slate-600 text-white"
              />
            </div>

            <!-- Bot√≥n calcular -->
            <button
              onclick="calculateLicense()"
              class="w-full bg-yellow-400 text-black px-4 py-2 rounded hover:bg-yellow-300 font-semibold transition"
              data-i18n="calculator.calculate_button"
            >
              Calcular costo
            </button>

            <!-- Resultado -->
            <div
              id="result"
              class="mt-4 p-3 bg-slate-700 rounded text-yellow-300 font-bold text-center"
            ></div>

            <!-- Informaci√≥n adicional -->
            <div class="text-sm text-slate-300 mt-4 space-y-2">
              <div class="flex items-center">
                <span
                  class="text-yellow-300 mr-1"
                  data-i18n="calculator.support_fee"
                  >Tarifa de soporte y actualizaciones:</span
                >
                <span data-i18n="calculator.support_variable">variable</span>
              </div>
              <div
                class="italic text-slate-400"
                data-i18n="calculator.contact_for_estimate"
              >
                Cont√°ctanos para una estimaci√≥n personalizada.
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="cto" class="max-w-4xl mx-auto px-4 py-12 text-center">
        <h2 class="text-2xl font-bold mb-8" data-i18n="cto.title">CTO</h2>

        <div class="flex flex-col items-center">
          <!-- Foto circular (reemplaza la URL por tu imagen) -->
          <img
            src="img/EmmanuelMellado_gif.gif"
            alt="Emmanuel Mellado - CTO"
            class="w-40 h-40 rounded-full object-cover border-4 border-yellow-300 mb-4"
          />

          <h3 class="text-xl font-semibold text-yellow-300">
            Emmanuel Mellado
          </h3>
          <p class="text-slate-300 mt-2" data-i18n="cto.description">
            L√≠der t√©cnico, creadir y arquitecto principal de Teethlion
          </p>

          <!-- Opcional: Redes sociales -->
          <div class="flex gap-4 mt-4">
            <a href="#" class="text-slate-400 hover:text-yellow-300">
              <svg
                class="w-6 h-6"
                fill="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  fill-rule="evenodd"
                  d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"
                  clip-rule="evenodd"
                ></path>
              </svg>
            </a>
            <a href="#" class="text-slate-400 hover:text-yellow-300">
              <svg
                class="w-6 h-6"
                fill="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"
                ></path>
              </svg>
            </a>
            <a href="#" class="text-slate-400 hover:text-yellow-300">
              <svg
                class="w-6 h-6"
                fill="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  fill-rule="evenodd"
                  d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c5.51 0 10-4.48 10-10S17.51 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.95-4.675-3.189-5A8.687 8.687 0 0112 3.475zm-3.633.803a53.896 53.896 0 013.167 4.935c-3.992 1.063-7.517 1.04-7.896 1.04a8.581 8.581 0 014.729-5.975zM3.453 12.01v-.26c.37.01 4.512.065 8.775-1.215.25.477.477.965.694 1.453-.109.033-.228.065-.336.098-4.404 1.42-6.747 5.303-6.942 5.629a8.522 8.522 0 01-2.19-5.705zM12 20.547a8.482 8.482 0 01-5.239-1.8c.152-.315 1.888-3.656 6.703-5.337.022-.01.033-.01.054-.022a35.318 35.318 0 011.823 6.475 8.4 8.4 0 01-3.341.684zm4.761-1.465c-.086-.52-.542-3.015-1.659-6.084 2.679-.423 5.022.271 5.314.369a8.468 8.468 0 01-3.655 5.715z"
                  clip-rule="evenodd"
                ></path>
              </svg>
            </a>
          </div>
        </div>
      </section>
    </main>

    <!-- FOOTER -->
    <footer class="text-center text-sm py-4 text-slate-400">
      <span id="footer-phrase" data-i18n="footer.phrase"></span>
    </footer>

    <!-- SCRIPT MENU + FRASE -->
    <script>
  // -----------------------------
  // Cache y helper de traducciones
  // -----------------------------
  const translationsCache = {};
  const translations = translationsCache;  // <<‚Äî alias para que translations[...] funcione
  let currentLang = "es";

  function getT() {
    return translationsCache[currentLang] || {};
  }
        //let currentLang = "es"; // o cualquier idioma por defecto que uses


//titulo inicial
function initHeroRotation() {
  const msgEl = document.getElementById("hero-message");
  const noteEl = document.getElementById("hero-note");

  const msgs = translations[currentLang]?.["hero.messages"] || [];
  const note = translations[currentLang]?.["hero.note"] || "";

  if (msgs.length) {
    const randomMessage = msgs[Math.floor(Math.random() * msgs.length)];
    msgEl.innerHTML = randomMessage;
    noteEl.innerHTML = note;
  }
}




      //flechas de navegaci√≥n
      function scrollToNextSection() {
        const current = window.scrollY;
        const sections = Array.from(
          document.querySelectorAll("main > section")
        );
        const next = sections.find((sec) => sec.offsetTop > current + 10);
        if (next) {
          next.scrollIntoView({ behavior: "smooth" });
        }
      }

      function scrollToPrevSection() {
        const current = window.scrollY;
        const sections = Array.from(
          document.querySelectorAll("main > section")
        );
        const prevSections = sections.filter(
          (sec) => sec.offsetTop < current - 10
        );
        if (prevSections.length > 0) {
          const prev = prevSections[prevSections.length - 1];
          prev.scrollIntoView({ behavior: "smooth" });
        }
      }

      // Funci√≥n para alternar respuestas FAQ
      function toggleFAQ(id) {
        const answer = document.getElementById(`faq-answer-${id}`);
        const icon =
          answer.previousElementSibling.querySelector("span:last-child");

        answer.classList.toggle("hidden");
        icon.textContent = answer.classList.contains("hidden") ? "+" : "‚àí";
      }

      // Formulario de contacto
      function sanitizeInput(input, regex) {
        input.value = input.value.replace(regex, "");
      }

      function sanitizeTextarea(textarea) {
        textarea.value = textarea.value.replace(
          /[^A-Za-z√Å-√ö√°-√∫0-9\s.,;:!?¬ø¬°()@\-_\n]/g,
          ""
        );
        updateCharCount(textarea);
      }

      function updateCharCount(textarea) {
        const count = textarea.value.length;
        document.getElementById("char-count").textContent = `${count}/1000`;
        document
          .getElementById("char-count")
          .classList.toggle("text-yellow-300", count > 900);
      }

      function validateEmail(input) {
        const email = input.value;
        const re = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        if (!re.test(email)) {
          showFeedback("Por favor ingresa un email v√°lido", "error");
          input.focus();
          return false;
        }
        return true;
      }

      function showFeedback(message, type) {
        const feedback = document.getElementById("form-feedback");
        feedback.textContent = message;
        feedback.classList.remove("hidden", "bg-red-500", "bg-green-500");
        feedback.classList.add(
          type === "error" ? "bg-red-500" : "bg-green-500"
        );
        setTimeout(() => feedback.classList.add("hidden"), 7000);
      }

      document
        .getElementById("secure-contact-form")
        .addEventListener("submit", async function (e) {
          e.preventDefault();

          const form = this;
          const btn = document.getElementById("submit-btn");

          if (!validateEmail(document.getElementById("secure-email"))) {
            btn.disabled = false;
            btn.innerHTML = "Enviar Mensaje";
            return;
          }

          btn.disabled = true;
          btn.innerHTML = '<span class="animate-pulse">Enviando...</span>';

          const formData = new FormData(form);

          try {
            const response = await fetch(
              "https://formsubmit.co/ajax/contacto@teethlion.com",
              {
                method: "POST",
                headers: {
                  Accept: "application/json",
                },
                body: formData,
              }
            );

            if (response.ok) {
              showFeedback("‚úÖ Mensaje enviado correctamente", "success");
              btn.innerHTML = "‚úîÔ∏è Enviado";
              form.reset();
              updateCharCount(document.getElementById("secure-message"));
            } else {
              showFeedback("‚ùå Error al enviar. Intenta de nuevo.", "error");
              btn.innerHTML = "Reintentar";
              btn.disabled = false;
            }
          } catch (error) {
            console.error("Error en env√≠o:", error);
            showFeedback("‚ùå Fallo de red. Verifica tu conexi√≥n.", "error");
            btn.innerHTML = "Reintentar";
            btn.disabled = false;
          }
        });

      function scrollNav(direction) {
        const nav = document.getElementById("nav-scroll");
        const scrollAmount = 150;
        nav.scrollBy({ left: direction * scrollAmount, behavior: "smooth" });
      }
      function toggleFinanceDropdown() {
        const menu = document.getElementById("finance-menu");
        menu.classList.toggle("hidden");
        menu.classList.toggle("block");
      }


      // Navegaci√≥n por secciones
      let current = 0;
      const all = document.querySelectorAll("main > section");

      function navigate(delta) {
        current = Math.max(0, Math.min(all.length - 1, current + delta));
        all[current].scrollIntoView({ behavior: "smooth" });
      }

      document.addEventListener("keydown", (e) => {
        if (e.key === "ArrowDown") navigate(1);
        if (e.key === "ArrowUp") navigate(-1);
      });

      // Mostrar licencias
      function showLicense(license) {
        // Ocultar todos los paneles primero
        document.querySelectorAll(".license-panel").forEach((panel) => {
          panel.classList.add("hidden");
        });

        // Resetear estilos de botones
        document.querySelectorAll("#btn-agpl, #btn-tol").forEach((btn) => {
          btn.classList.remove("bg-yellow-400", "text-black");
          btn.classList.add("bg-slate-700", "text-white");
        });

        // Mostrar el panel seleccionado
        document.getElementById(license).classList.remove("hidden");

        // Resaltar el bot√≥n activo
        document
          .getElementById(`btn-${license}`)
          .classList.add("bg-yellow-400", "text-black");
        document
          .getElementById(`btn-${license}`)
          .classList.remove("bg-slate-700", "text-white");
      }

      // Calculadora de licencias
      // Calculadora de licencias (versi√≥n con placeholders din√°micos)
      function calculateLicense() {
        const people = parseInt(document.getElementById("people").value);
        const type = document.getElementById("entity-type").value;
        const resultElement = document.getElementById("result");

        if (type === "school" && people <= 30) {
          resultElement.textContent =
            translations[currentLang]["calculator.school_no_license"];
        } else {
          const total = people * 1; // 1‚Ç¨ por persona
          const note = translations[currentLang]["calculator.lifetime_note"];
          const pattern =
            translations[currentLang]["calculator.estimated_cost_text"];

          resultElement.textContent = pattern
            .replace("{total}", total)
            .replace("{note}", note);
        }
      }

      // Funci√≥n unificada para manejar ambos casos
      function setupContactButtons() {
        // Bot√≥n sat√©lite
        document
          .querySelector('[data-i18n="contribute.satellite_button"]')
          ?.addEventListener("click", fillSatelliteMessage);

        // Bot√≥n ampliar red
        document
          .querySelector('[data-i18n="contribute.expand_button"]')
          ?.addEventListener("click", fillNetworkExpansionMessage);
      }

      function fillNetworkExpansionMessage() {
        setTimeout(() => {
          const textarea = document.querySelector(
            '#contacto textarea[name="message"]'
          );
          if (textarea) {
            const phonePrompt =
              translations[currentLang]["contact.expansion_phone_prompt"] ||
              "Nuestro n√∫mero de contacto es:";
            textarea.value =
              translations[currentLang]["contact.expansion_message"] ||
              `Hola, estamos interesados en financiar Teethlion en nuestra comunidad o en una comunidad de nuestro inter√©s. Se requiere soporte para N nodos en un √°rea de un radio de N kil√≥metros y nos gustar√≠a que nos brinden el soporte y/o la infraestructura para lograrlo. Aportaremos el pago de las licencias y el costo del proyecto y de la infraestructura. ${phonePrompt} _______________`;

            textarea.focus();
            textarea.selectionStart = textarea.value.length;
            textarea.selectionEnd = textarea.value.length;
          }
        }, 300);
      }

      function fillSatelliteMessage() {
        // Espera a que se cargue la secci√≥n de contacto
        setTimeout(() => {
          const textarea = document.querySelector(
            '#contacto textarea[name="message"]'
          );
          if (textarea) {
            const phonePrompt =
              translations[currentLang]["contact.satellite_phone_prompt"] ||
              "Mi n√∫mero de contacto es:";
            textarea.value =
              translations[currentLang]["contact.satellite_message"] ||
              `Estoy interesado en hacer una gran donaci√≥n o en colaborar con su proyecto desplegando un sat√©lite propio o permitiendo el acceso a mi(s) sat√©lite(s) / o nodos relay a la red Teethlion. ${phonePrompt} __________`;

            // Enfoca el campo del mensaje
            textarea.focus();

            // Mueve el cursor al final del texto
            textarea.selectionStart = textarea.value.length;
            textarea.selectionEnd = textarea.value.length;
          }
        }, 300); // Peque√±o retraso para asegurar la navegaci√≥n
      }

      // Funci√≥n para cargar licencias - actualizada
      async function loadLicenses() {
        try {
          // Intenta cargar desde la misma ruta que el HTML
          const response = await fetch("./licenses.json");
          if (!response.ok) {
            throw new Error(`Error HTTP: ${response.status}`);
          }

          const licensesData = await response.json();

          // Actualizar contenido de las licencias
          document.querySelector("#agpl pre").textContent =
            licensesData.agpl_v3?.content ||
            "No se pudo cargar la licencia AGPL";

          document.querySelector("#tol pre").textContent =
            licensesData.tol_v1?.content || "No se pudo cargar la licencia TOL";
        } catch (error) {
          console.error("Error cargando licencias:", error);
          // Mensajes de error visibles para el usuario
          document.querySelector("#agpl pre").textContent =
            "Error cargando la licencia AGPL. Intente recargar la p√°gina.";
          document.querySelector("#tol pre").textContent =
            "Error cargando la licencia TOL. Intente recargar la p√°gina.";
        }
      }



      // Internacionalizaci√≥n
      // Traducciones



const nodeTypes = [
  { key: "user", color: "#23aaff" },
  { key: "relay", color: "#aaff23" },
  { key: "bootstrap", color: "#ffaa23" },
  { key: "honeypot", color: "#ff2323" },
  { key: "guard", color: "#23ffaa" },
  { key: "ai", color: "#aa23ff" },
  { key: "relay_bootstrap", color: "#ffff23" },
  { key: "ai_user", color: "#ff23ff" },
  { key: "iot_future_x", color: "#23ffdd" },
  { key: "observer", color: "#8888ff" },
  { key: "satellite", color: "#ccccff" },       // actualizado
  { key: "router", color: "#ffaaee" },          // actualizado
  { key: "dtn", color: "#999900" },
  { key: "mesh_node", color: "#00ff88" },
  { key: "bridge", color: "#ff66cc" },          // nuevo
  { key: "trainer", color: "#ffaaee" },         // nuevo
  { key: "vault", color: "#4444ff" },           // nuevo
  { key: "forensic", color: "#ffdd00" },  // alias o nuevo si lo separas de "router"
  { key: "secure_mesh_gateway", color: "#ffcc99" }
];




function renderNodeGrid() {
  const container = document.getElementById("node-type-grid");
  container.innerHTML = "";

  nodeTypes.forEach(({ key, color }) => {
    const card = document.createElement("div");
    card.className =
      "rounded-lg p-4 cursor-pointer transition duration-200 hover:scale-105 shadow-md bg-slate-800 border border-slate-600";
    card.setAttribute("onclick", `showNodeModal('${key}')`);

    const title = translations[currentLang][`node.${key}.name`] || key;
    const desc = translations[currentLang][`node.${key}.desc`] || "";

    card.innerHTML = `
      <div class="w-6 h-6 rounded-full mb-2" style="background-color: ${color}"></div>
      <h3 class="text-lg font-semibold text-yellow-300 mb-1">${title}</h3>
      <p class="text-sm text-slate-400">${desc}</p>
    `;

    container.appendChild(card);
  });

}

//document.addEventListener("DOMContentLoaded", renderNodeGrid);

/*
// -----------------------------
// Cache y helper de traducciones
// -----------------------------
const translationsCache = {};
let currentLang = "es"; // Idioma por defecto

function getT() {
  return translationsCache[currentLang] || {};
}
*/
// -----------------------------
// Carga y aplicaci√≥n de idioma
// -----------------------------
async function setLang(lang) {
  currentLang = lang;
  document.documentElement.lang = lang;

  // 1) Si no est√° en cache, lo traemos
  if (!translationsCache[lang]) {
    try {
      const res = await fetch(`/i18n/${lang}.json`);
      if (!res.ok) throw new Error(`HTTP ${res.status}`);
      translationsCache[lang] = await res.json();
    } catch (err) {
      console.error("Error cargando traducciones para", lang, err);
      return;
    }
  }

  // 2) Objeto de traducciones activo
  const t = translationsCache[lang];

  // 3) Texto plano
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    if (t[key] != null) el.textContent = t[key];
  });

  // 4) HTML (innerHTML)
  document.querySelectorAll("[data-i18n-html]").forEach(el => {
    const key = el.getAttribute("data-i18n-html");
    if (t[key] != null) el.innerHTML = t[key];
  });

  // 5) Placeholders
  document.querySelectorAll("[data-i18n-placeholder]").forEach(el => {
    const key = el.getAttribute("data-i18n-placeholder");
    if (t[key] != null) el.placeholder = t[key];
  });

  // 6) Footer y grid de nodos
  updateFooterPhrase();
  renderNodeGrid();
}

// -----------------------------
// Frase aleatoria en el footer
// -----------------------------
function updateFooterPhrase() {
  const t = getT();
  const fallback = translationsCache["es"]?.footer?.phrases || [];
  const phrases = t.footer?.phrases || fallback;
  const el = document.getElementById("footer-phrase");

  if (phrases.length) {
    el.textContent = phrases[Math.floor(Math.random() * phrases.length)];
  } else {
    el.textContent = "Comunicaciones descentralizadas";
  }
}

// -----------------------------
// Modal de detalles de nodo
// -----------------------------
function showNodeModal(nodeKey) {
  const t = getT();
  const title = t[`node.${nodeKey}.modal_title`] || "";
  const desc  = t[`node.${nodeKey}.modal_desc`]  || "";
  const usage = t[`node.${nodeKey}.modal_usage`] || [];

  document.getElementById("modal-title").textContent = title;
  document.getElementById("modal-desc").textContent  = desc;

  const ul = document.getElementById("modal-usage");
  ul.innerHTML = "";
  usage.forEach(item => {
    const li = document.createElement("li");
    li.textContent = item;
    ul.appendChild(li);
  });

  document.getElementById("node-modal").classList.remove("hidden");
}

function closeNodeModal() {
  document.getElementById("node-modal").classList.add("hidden");
}

// -----------------------------
// Stepper
// -----------------------------
let stepIndex = 0;
const circles = document.querySelectorAll('.stepper-item .stepper-circle');
const prevBtn = document.getElementById('prev-step');
const nextBtn = document.getElementById('next-step');
const stepModals = document.querySelectorAll('#modals-container .modal.step-modal');

function updateStepper() {
  circles.forEach((circle, i) => {
    circle.classList.toggle('bg-yellow-500', i === stepIndex);
    circle.classList.toggle('bg-slate-700', i !== stepIndex);
  });
  prevBtn.disabled = stepIndex === 0;
  nextBtn.textContent = stepIndex === circles.length - 1 ? 'Finalizar' : 'Siguiente';
}

function openModal(idx) {
  stepModals[idx].classList.remove('hidden');
}
function closeModal() {
  const open = document.querySelector('#modals-container .modal:not(.hidden)');
  if (open) open.classList.add('hidden');
}

window.openModal  = openModal;
window.closeModal = closeModal;

prevBtn.addEventListener('click', () => {
  if (stepIndex > 0) {
    stepIndex--;
    updateStepper();
    openModal(stepIndex);
  }
});

nextBtn.addEventListener('click', () => {
  openModal(stepIndex);
  if (stepIndex < circles.length - 1) {
    stepIndex++;
    setTimeout(updateStepper, 100);
  }
});

document.addEventListener('keydown', e => {
  if (e.key === 'Escape') closeModal();
});
stepModals.forEach(m => {
  m.addEventListener('click', e => {
    if (e.target === m) closeModal();
  });
});

updateStepper();

// -----------------------------
// Men√∫ offcanvas
// -----------------------------
function openMenu() {
  document.getElementById("offcanvas").classList.remove("-translate-x-full");
  document.getElementById("overlay").classList.remove("hidden");
  document.body.style.overflow = "hidden";
}
function closeMenu() {
  document.getElementById("offcanvas").classList.add("-translate-x-full");
  document.getElementById("overlay").classList.add("hidden");
  document.body.style.overflow = "";
}
// -----------------------------
// Inicializaci√≥n al cargar la p√°gina
// -----------------------------
document.addEventListener("DOMContentLoaded", () => {
  // referencias del men√∫ (def√≠nelas aqu√≠)
  const menu     = document.getElementById("offcanvas");
  const openBtn  = document.getElementById("hamburger");
  const closeBtn = document.getElementById("close-menu");
  const overlay  = document.getElementById("overlay");

  // event listeners men√∫
  if (openBtn)  openBtn.addEventListener("click", openMenu);
  if (closeBtn) closeBtn.addEventListener("click", closeMenu);
  if (overlay)  overlay.addEventListener("click", closeMenu);
  document.querySelectorAll("#offcanvas a").forEach(link => {
    link.addEventListener("click", closeMenu);
  });

  // licencias y simulador
  loadLicenses();
  showLicense("agpl");

  // aqu√≠ cargamos el idioma **antes** de renderizar grid/footer
  setLang("es");

  // setup resto de botones dependientes de contenido traducido
  setupContactButtons();
});
    </script>
    <div class="fixed right-4 bottom-6 flex flex-col gap-4 z-50">
      <button
        onclick="scrollToPrevSection()"
        class="bg-slate-800 hover:bg-slate-600 text-white p-3 rounded-full shadow transition"
        title="Volver arriba"
      >
        ‚¨ÜÔ∏è
      </button>
      <button
        onclick="scrollToNextSection()"
        class="bg-slate-800 hover:bg-slate-600 text-white p-3 rounded-full shadow transition"
        title="Pr√≥ximamente Q3 2025"
      >
        ‚¨áÔ∏è
      </button>
    </div>
    <!-- Modal para tipo de nodo -->
<div
  id="node-modal"
  class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden"
>
  <div class="bg-slate-900 text-white max-w-lg w-full p-6 rounded-lg relative shadow-lg border border-yellow-400">
    <button
      onclick="closeNodeModal()"
      class="absolute top-2 right-3 text-xl text-yellow-400 hover:text-yellow-300"
    >
      ‚úñ
    </button>
    <h3 id="modal-title" class="text-2xl font-bold text-yellow-300 mb-4"></h3>
    <p id="modal-desc" class="text-slate-300 mb-4"></p>
    <ul id="modal-usage" class="list-disc list-inside space-y-2 text-sm text-slate-200"></ul>
  </div>
</div>
  </body>
</html>